<!DOCTYPE html>
<html lang="en" ng-app="miTienda">

<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        body {
            margin-top: 20px;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="app.js"></script>

</head>

<body>
    <div class="container">
        <div class="row" ng-controller="tiendaController as tienda">
            <div class="col-4" ng-repeat="articulo in tienda.articulos">
                <div class="row">
                    <span>
                        <h4>Producto: {{articulo.nombre}}</h4>
                        <p class="col-2 text-center text-light rounded" ng-class="tienda.stockClass({{articulo.stock}})">Stock: {{articulo.stock}}</p>
                        <p class="col-4 text-center bg-success text-light rounded">Descuento: {{articulo.descuento}}</p>
                    </span>

                    <p>Precio:{{articulo.precio | currency : "€" }}</p>
                    <p>Precio Final:{{tienda.descontar(articulo.precio,articulo.descuento) | currency : "€" }}</p>
                    <img src="{{articulo.imagen}}" alt="">
                </div>
                <div class="row">
                    <div class="col-6">
                        <button ng-disabled="{{!(articulo.stock)>0}}" type="button" class="btn btn-success">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                class="bi bi-cart2" viewBox="0 0 16 16">
                                <path
                                    d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" />
                            </svg>
                            Añadir al carro
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>